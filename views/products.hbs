<script>


    let productList = document.createElement('ul');

    const myHeaders = new Headers();
    myHeaders.append('authorization', `Bearer ${localStorage.token} `)

    fetch('/api/product', {
      method : 'GET',
      headers : myHeaders
    })
    .then(response => {
        return response.json()
    })
    .then(data => {

        let productos = data.products

        productos.forEach(producto => {
            let text = document.createTextNode(producto.name)
            let elem = document.createElement('li')
            elem.appendChild(text)
            productList.appendChild(elem)
            
        })

        document.body.appendChild(productList)
        
        
    })
    .catch(err  => {
        console.log(err)
    })

</script>